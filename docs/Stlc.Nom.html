<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/annenkov/stlcnorm" target="_balnk">Project Page</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Stlc.Nom</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.MSets.MSets.html#"><span class="id" title="library">MSets</span></a> <a class="idref" href="Stlc.OrdSet.html#"><span class="id" title="library">OrdSet</span></a> <a class="idref" href="Stlc.CustomTactics.html#"><span class="id" title="library">CustomTactics</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Logic.Eqdep_dec.html#"><span class="id" title="library">Eqdep_dec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Bool.Bool.html#"><span class="id" title="library">Bool</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Logic.FunctionalExtensionality.html#"><span class="id" title="library">FunctionalExtensionality</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Logic.ProofIrrelevance.html#"><span class="id" title="library">ProofIrrelevance</span></a>.<br/>

<br/>
</div>

<div class="doc">
One usefull lemma to prove properties of permutations 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="happly"><span class="id" title="lemma">happly</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <a class="idref" href="Stlc.Nom.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#B"><span class="id" title="variable">B</span></a>} : <a class="idref" href="Stlc.Nom.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Stlc.Nom.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <a class="idref" href="Stlc.Nom.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Stlc.Nom.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a name="Atom"><span class="id" title="module">Atom</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Declare Module</span> <a name="Atom.V"><span class="id" title="module">V</span></a> : <a class="idref" href="Stlc.OrdSet.html#SetExtT"><span class="id" title="module">SetExtT</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a name="Atom.eq_dec"><span class="id" title="axiom">eq_dec</span></a> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">a1</span> <span class="id" title="var">a2</span> : <a class="idref" href="Stlc.Nom.html#Atom.elt"><span class="id" title="definition">V.elt</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#5bf2050e90b21ebc82dc5463d1ba338e"><span class="id" title="notation">{</span></a><a class="idref" href="Stlc.Nom.html#a1"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Stlc.Nom.html#a2"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#5bf2050e90b21ebc82dc5463d1ba338e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#5bf2050e90b21ebc82dc5463d1ba338e"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#5bf2050e90b21ebc82dc5463d1ba338e"><span class="id" title="notation">{</span></a><a class="idref" href="Stlc.Nom.html#a1"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Stlc.Nom.html#a2"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#5bf2050e90b21ebc82dc5463d1ba338e"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a name="Atom.Atom_inf"><span class="id" title="axiom">Atom_inf</span></a> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">X</span> : <a class="idref" href="Stlc.Nom.html#Atom.t"><span class="id" title="axiom">V.t</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">{</span></a><span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">:</span></a> <a class="idref" href="Stlc.Nom.html#Atom.elt"><span class="id" title="definition">V.elt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">~</span></a> <a class="idref" href="Stlc.Nom.html#Atom.In"><span class="id" title="axiom">V.In</span></a> <span class="id" title="var">x</span> <a class="idref" href="Stlc.Nom.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Stlc.Nom.html#Atom"><span class="id" title="module">Atom</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a name="Nominal"><span class="id" title="module">Nominal</span></a> (<span class="id" title="var">A</span> : <a class="idref" href="Stlc.Nom.html#Atom"><span class="id" title="module">Atom</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a name="Nominal.Atom"><span class="id" title="module">Atom</span></a> := <a class="idref" href="Stlc.Nom.html#A"><span class="id" title="module">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a name="Nominal.SetFacts"><span class="id" title="module">SetFacts</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.MSets.MSetFacts.html#WFacts"><span class="id" title="module">WFacts</span></a> <a class="idref" href="Stlc.Nom.html#A.V"><span class="id" title="module">V</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a name="Nominal.SetProperties"><span class="id" title="module">SetProperties</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.MSets.MSetProperties.html#OrdProperties"><span class="id" title="module">OrdProperties</span></a> <a class="idref" href="Stlc.Nom.html#A.V"><span class="id" title="module">V</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="Nominal.Atom"><span class="id" title="abbreviation">Atom</span></a> := <a class="idref" href="Stlc.Nom.html#Nominal.elt"><span class="id" title="definition">Atom.V.elt</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">program_scope</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Nominal.is_inj"><span class="id" title="definition">is_inj</span></a>  {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> : <a class="idref" href="Stlc.Nom.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#B"><span class="id" title="variable">B</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="Stlc.Nom.html#A"><span class="id" title="variable">A</span></a>), <a class="idref" href="Stlc.Nom.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Stlc.Nom.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Stlc.Nom.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Stlc.Nom.html#y"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Nominal.is_surj"><span class="id" title="definition">is_surj</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> : <a class="idref" href="Stlc.Nom.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#B"><span class="id" title="variable">B</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">y</span> : <a class="idref" href="Stlc.Nom.html#B"><span class="id" title="variable">B</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span> : <a class="idref" href="Stlc.Nom.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">),</span></a> <a class="idref" href="Stlc.Nom.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Stlc.Nom.html#y"><span class="id" title="variable">y</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Unfold</span> <a class="idref" href="Stlc.Nom.html#Nominal.is_inj"><span class="id" title="definition">is_inj</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.is_surj"><span class="id" title="definition">is_surj</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Nominal.inj_comp_inj"><span class="id" title="lemma">inj_comp_inj</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>: <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> : <a class="idref" href="Stlc.Nom.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">g</span> : <a class="idref" href="Stlc.Nom.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#C"><span class="id" title="variable">C</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Stlc.Nom.html#Nominal.is_inj"><span class="id" title="definition">is_inj</span></a> <a class="idref" href="Stlc.Nom.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.is_inj"><span class="id" title="definition">is_inj</span></a> <a class="idref" href="Stlc.Nom.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="Stlc.Nom.html#Nominal.is_inj"><span class="id" title="definition">is_inj</span></a> (<a class="idref" href="Stlc.Nom.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#23b053569700a43fa034e3971fb6ded6"><span class="id" title="notation">∘</span></a> <a class="idref" href="Stlc.Nom.html#f"><span class="id" title="variable">f</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Stlc.Nom.html#Nominal.is_inj"><span class="id" title="definition">is_inj</span></a>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Nominal.surj_comp_surj"><span class="id" title="lemma">surj_comp_surj</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>: <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> : <a class="idref" href="Stlc.Nom.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">g</span> : <a class="idref" href="Stlc.Nom.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#C"><span class="id" title="variable">C</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Stlc.Nom.html#Nominal.is_surj"><span class="id" title="definition">is_surj</span></a> <a class="idref" href="Stlc.Nom.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.is_surj"><span class="id" title="definition">is_surj</span></a> <a class="idref" href="Stlc.Nom.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="Stlc.Nom.html#Nominal.is_surj"><span class="id" title="definition">is_surj</span></a> (<a class="idref" href="Stlc.Nom.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#23b053569700a43fa034e3971fb6ded6"><span class="id" title="notation">∘</span></a> <a class="idref" href="Stlc.Nom.html#f"><span class="id" title="variable">f</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">autounfold</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">H1</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">H1</span> <span class="id" title="var">c</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">b</span> <span class="id" title="var">Hb</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">H</span> <span class="id" title="var">b</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> <span class="id" title="var">Ha</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Nominal.eq_leibniz_1"><span class="id" title="lemma">eq_leibniz_1</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> :  <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Stlc.Nom.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#A.V.E.eq"><span class="id" title="axiom">V.E.eq</span></a> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Stlc.Nom.html#y"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Stlc.Nom.html#A.V.E.eq_equiv"><span class="id" title="axiom">V.E.eq_equiv</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Equivalence_Reflexive</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">V.E.eq_leibniz</span> <span class="id" title="var">eq_leibniz_1</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Nominal.eq_leibniz_iff"><span class="id" title="lemma">eq_leibniz_iff</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="Stlc.Nom.html#A.V.E.eq"><span class="id" title="axiom">V.E.eq</span></a> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Stlc.Nom.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><a class="idref" href="Stlc.Nom.html#y"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;-----------------------------------&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Definition&nbsp;of&nbsp;finitary&nbsp;permutations&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;-----------------------------------&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Nominal.is_biject"><span class="id" title="definition">is_biject</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <a class="idref" href="Stlc.Nom.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#B"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><a class="idref" href="Stlc.Nom.html#Nominal.is_inj"><span class="id" title="definition">is_inj</span></a> <a class="idref" href="Stlc.Nom.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><a class="idref" href="Stlc.Nom.html#Nominal.is_surj"><span class="id" title="definition">is_surj</span></a> <a class="idref" href="Stlc.Nom.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Nominal.has_fin_supp"><span class="id" title="definition">has_fin_supp</span></a> <span class="id" title="var">f</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">exists</span></a> <span class="id" title="var">S</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">t</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">~</span></a> <a class="idref" href="Stlc.Nom.html#A.V.In"><span class="id" title="axiom">V.In</span></a> <a class="idref" href="Stlc.Nom.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Stlc.Nom.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Stlc.Nom.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Stlc.Nom.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a name="Nominal.Perm"><span class="id" title="record">Perm</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <a name="Nominal.perm"><span class="id" title="projection">perm</span></a> : <a class="idref" href="Stlc.Nom.html#Nominal.Atom"><span class="id" title="abbreviation">Atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Atom"><span class="id" title="abbreviation">Atom</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Nominal.perm_inv"><span class="id" title="projection">perm_inv</span></a> : <a class="idref" href="Stlc.Nom.html#Nominal.Atom"><span class="id" title="abbreviation">Atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Atom"><span class="id" title="abbreviation">Atom</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Nominal.l_inv"><span class="id" title="projection">l_inv</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="Stlc.Nom.html#perm_inv"><span class="id" title="method">perm_inv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#23b053569700a43fa034e3971fb6ded6"><span class="id" title="notation">∘</span></a> <a class="idref" href="Stlc.Nom.html#perm"><span class="id" title="method">perm</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Nominal.r_inv"><span class="id" title="projection">r_inv</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="Stlc.Nom.html#perm"><span class="id" title="method">perm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#23b053569700a43fa034e3971fb6ded6"><span class="id" title="notation">∘</span></a> <a class="idref" href="Stlc.Nom.html#perm_inv"><span class="id" title="method">perm_inv</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Nominal.fin_supp"><span class="id" title="projection">fin_supp</span></a> : <a class="idref" href="Stlc.Nom.html#Nominal.has_fin_supp"><span class="id" title="definition">has_fin_supp</span></a> <a class="idref" href="Stlc.Nom.html#perm"><span class="id" title="method">perm</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Coercion</span> <a class="idref" href="Stlc.Nom.html#Nominal.perm"><span class="id" title="projection">perm</span></a> : <span class="id" title="var">Perm</span> &gt;-&gt; <span class="id" title="var">Funclass</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="5bda66f539143fbb1cc07804cb9cb63e"><span class="id" title="notation">&quot;</span></a>- p" := (<a class="idref" href="Stlc.Nom.html#Nominal.perm_inv"><span class="id" title="projection">perm_inv</span></a> <span class="id" title="var">p</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Nominal.perm_eq"><span class="id" title="lemma">perm_eq</span></a> (<span class="id" title="var">p1</span> <span class="id" title="var">p2</span> : <a class="idref" href="Stlc.Nom.html#Nominal.Perm"><span class="id" title="record">Perm</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Stlc.Nom.html#Nominal.perm"><span class="id" title="projection">perm</span></a> <a class="idref" href="Stlc.Nom.html#p1"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.perm"><span class="id" title="projection">perm</span></a> <a class="idref" href="Stlc.Nom.html#p2"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Stlc.Nom.html#Nominal.perm_inv"><span class="id" title="projection">perm_inv</span></a> <a class="idref" href="Stlc.Nom.html#p1"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.perm_inv"><span class="id" title="projection">perm_inv</span></a> <a class="idref" href="Stlc.Nom.html#p2"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Stlc.Nom.html#p1"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Stlc.Nom.html#p2"><span class="id" title="variable">p2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span> <span class="id" title="var">f_s</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">f'</span> <span class="id" title="var">g'</span> <span class="id" title="var">l'</span> <span class="id" title="var">r'</span> <span class="id" title="var">f_s'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Logic.ProofIrrelevance.html#proof_irrelevance"><span class="id" title="axiom">proof_irrelevance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Nominal.id_perm"><span class="id" title="definition">id_perm</span></a> : <a class="idref" href="Stlc.Nom.html#Nominal.Perm"><span class="id" title="record">Perm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ({| <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">perm</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">:=</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">id</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">;</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">perm_inv</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">id</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">l_inv</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">eq_refl</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">;</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">r_inv</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">eq_refl</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">fin_supp</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">_</span></a>|}).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <a class="idref" href="Stlc.Nom.html#A.V.empty"><span class="id" title="axiom">V.empty</span></a>;<span class="id" title="tactic">intros</span>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Nominal.perm_comp"><span class="id" title="definition">perm_comp</span></a> (<span class="id" title="var">p</span> <span class="id" title="var">p'</span> : <a class="idref" href="Stlc.Nom.html#Nominal.Perm"><span class="id" title="record">Perm</span></a>) : <a class="idref" href="Stlc.Nom.html#Nominal.Perm"><span class="id" title="record">Perm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ({| <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">perm</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">(</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">perm</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">p</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">)</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">∘</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">(</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">perm</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">p'</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">);</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">perm_inv</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">(</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">perm_inv</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">p'</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">)</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">∘</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">(</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">perm_inv</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">p</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">);</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">l_inv</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">_</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">r_inv</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">_</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">fin_supp</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">_</span></a> |}).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span> <span class="id" title="var">f_s</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">f'</span> <span class="id" title="var">g'</span> <span class="id" title="var">l'</span> <span class="id" title="var">r'</span> <span class="id" title="var">f_s'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><span class="id" title="var">g'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#23b053569700a43fa034e3971fb6ded6"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#23b053569700a43fa034e3971fb6ded6"><span class="id" title="notation">(</span></a><span class="id" title="var">g</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#23b053569700a43fa034e3971fb6ded6"><span class="id" title="notation">∘</span></a> <span class="id" title="var">f</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#23b053569700a43fa034e3971fb6ded6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#23b053569700a43fa034e3971fb6ded6"><span class="id" title="notation">∘</span></a> <span class="id" title="var">f'</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">g'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#23b053569700a43fa034e3971fb6ded6"><span class="id" title="notation">∘</span></a> <span class="id" title="var">f'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">l'</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span> <span class="id" title="var">f_s</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">f'</span> <span class="id" title="var">g'</span> <span class="id" title="var">l'</span> <span class="id" title="var">r'</span> <span class="id" title="var">f_s'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#23b053569700a43fa034e3971fb6ded6"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#23b053569700a43fa034e3971fb6ded6"><span class="id" title="notation">(</span></a><span class="id" title="var">f'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#23b053569700a43fa034e3971fb6ded6"><span class="id" title="notation">∘</span></a> <span class="id" title="var">g'</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#23b053569700a43fa034e3971fb6ded6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#23b053569700a43fa034e3971fb6ded6"><span class="id" title="notation">∘</span></a> <span class="id" title="var">g</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">r'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#23b053569700a43fa034e3971fb6ded6"><span class="id" title="notation">∘</span></a> <span class="id" title="var">g</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span> <span class="id" title="var">f_s</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">f'</span> <span class="id" title="var">g'</span> <span class="id" title="var">l'</span> <span class="id" title="var">r'</span> <span class="id" title="var">f_s'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">f_s</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="var">Hx</span>]. <span class="id" title="tactic">destruct</span> <span class="id" title="var">f_s'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x'</span> <span class="id" title="var">Hx'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="Stlc.Nom.html#A.V.union"><span class="id" title="axiom">V.union</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>). <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hx'</span>;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">set</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="9f6d795c3a58a1c7b4664b280c99ef16"><span class="id" title="notation">&quot;</span></a>p ∘p p'" := (<a class="idref" href="Stlc.Nom.html#Nominal.perm_comp"><span class="id" title="definition">perm_comp</span></a> <span class="id" title="var">p</span> <span class="id" title="var">p'</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;--------------&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Swapping&nbsp;atoms&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;--------------&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Swapping&nbsp;two&nbsp;atoms&nbsp;is&nbsp;a&nbsp;simpliest&nbsp;permutation&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Nominal.swap_fn"><span class="id" title="definition">swap_fn</span></a> (<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <a class="idref" href="Stlc.Nom.html#A.V.elt"><span class="id" title="definition">V.elt</span></a>) : <a class="idref" href="Stlc.Nom.html#A.V.elt"><span class="id" title="definition">V.elt</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<a class="idref" href="Stlc.Nom.html#A.V.E.eq_dec"><span class="id" title="axiom">V.E.eq_dec</span></a> <a class="idref" href="Stlc.Nom.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Stlc.Nom.html#c"><span class="id" title="variable">c</span></a>) <span class="id" title="keyword">then</span> <a class="idref" href="Stlc.Nom.html#b"><span class="id" title="variable">b</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> (<span class="id" title="keyword">if</span> (<a class="idref" href="Stlc.Nom.html#A.V.E.eq_dec"><span class="id" title="axiom">V.E.eq_dec</span></a> <a class="idref" href="Stlc.Nom.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Stlc.Nom.html#c"><span class="id" title="variable">c</span></a>) <span class="id" title="keyword">then</span> <a class="idref" href="Stlc.Nom.html#a"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Stlc.Nom.html#c"><span class="id" title="variable">c</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Nominal.swap_fn_involution"><span class="id" title="lemma">swap_fn_involution</span></a> {<span class="id" title="var">a</span> <span class="id" title="var">b</span>} : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#23b053569700a43fa034e3971fb6ded6"><span class="id" title="notation">(</span></a><a class="idref" href="Stlc.Nom.html#Nominal.swap_fn"><span class="id" title="definition">swap_fn</span></a> <a class="idref" href="Stlc.Nom.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Stlc.Nom.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#23b053569700a43fa034e3971fb6ded6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#23b053569700a43fa034e3971fb6ded6"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#23b053569700a43fa034e3971fb6ded6"><span class="id" title="notation">(</span></a><a class="idref" href="Stlc.Nom.html#Nominal.swap_fn"><span class="id" title="definition">swap_fn</span></a> <a class="idref" href="Stlc.Nom.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Stlc.Nom.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#23b053569700a43fa034e3971fb6ded6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Logic.FunctionalExtensionality.html#functional_extensionality"><span class="id" title="lemma">functional_extensionality</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#compose"><span class="id" title="definition">compose</span></a>,<a class="idref" href="Stlc.Nom.html#Nominal.swap_fn"><span class="id" title="definition">swap_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Stlc.Nom.html#A.V.E.eq_dec"><span class="id" title="axiom">V.E.eq_dec</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span>),( <a class="idref" href="Stlc.Nom.html#A.V.E.eq_dec"><span class="id" title="axiom">V.E.eq_dec</span></a> <span class="id" title="var">b</span> <span class="id" title="var">x</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Stlc.Nom.html#A.V.E.eq_dec"><span class="id" title="axiom">V.E.eq_dec</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span>),(<a class="idref" href="Stlc.Nom.html#A.V.E.eq_dec"><span class="id" title="axiom">V.E.eq_dec</span></a> <span class="id" title="var">b</span> <span class="id" title="var">b</span>),(<a class="idref" href="Stlc.Nom.html#A.V.E.eq_dec"><span class="id" title="axiom">V.E.eq_dec</span></a> <span class="id" title="var">a</span> <span class="id" title="var">a</span>),(<a class="idref" href="Stlc.Nom.html#A.V.E.eq_dec"><span class="id" title="axiom">V.E.eq_dec</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#Nominal.eq_leibniz_iff"><span class="id" title="lemma">eq_leibniz_iff</span></a> <span class="id" title="keyword">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tryfalse</span>;<span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Stlc.Nom.html#A.V.E.eq_dec"><span class="id" title="axiom">V.E.eq_dec</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span>),( <a class="idref" href="Stlc.Nom.html#A.V.E.eq_dec"><span class="id" title="axiom">V.E.eq_dec</span></a> <span class="id" title="var">b</span> <span class="id" title="var">x</span>);<span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#Nominal.eq_leibniz_iff"><span class="id" title="lemma">eq_leibniz_iff</span></a> <span class="id" title="keyword">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tryfalse</span>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Unfold</span> <a class="idref" href="Stlc.Nom.html#Nominal.swap_fn"><span class="id" title="definition">swap_fn</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Nominal.is_inj_swap_fn"><span class="id" title="lemma">is_inj_swap_fn</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> : <a class="idref" href="Stlc.Nom.html#Nominal.is_inj"><span class="id" title="definition">is_inj</span></a> (<a class="idref" href="Stlc.Nom.html#Nominal.swap_fn"><span class="id" title="definition">swap_fn</span></a> <a class="idref" href="Stlc.Nom.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Stlc.Nom.html#b"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">autounfold</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">c1</span> <span class="id" title="var">c2</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Stlc.Nom.html#A.V.E.eq_dec"><span class="id" title="axiom">V.E.eq_dec</span></a> <span class="id" title="var">a</span> <span class="id" title="var">c1</span>); <span class="id" title="tactic">destruct</span> (<a class="idref" href="Stlc.Nom.html#A.V.E.eq_dec"><span class="id" title="axiom">V.E.eq_dec</span></a> <span class="id" title="var">b</span> <span class="id" title="var">c1</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Stlc.Nom.html#A.V.E.eq_dec"><span class="id" title="axiom">V.E.eq_dec</span></a> <span class="id" title="var">a</span> <span class="id" title="var">c2</span>); <span class="id" title="tactic">destruct</span> (<a class="idref" href="Stlc.Nom.html#A.V.E.eq_dec"><span class="id" title="axiom">V.E.eq_dec</span></a> <span class="id" title="var">b</span> <span class="id" title="var">c2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#Nominal.eq_leibniz_iff"><span class="id" title="lemma">eq_leibniz_iff</span></a> <span class="id" title="keyword">in</span> *; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Nominal.is_surj_swap_fn"><span class="id" title="lemma">is_surj_swap_fn</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> : <a class="idref" href="Stlc.Nom.html#Nominal.is_surj"><span class="id" title="definition">is_surj</span></a> (<a class="idref" href="Stlc.Nom.html#Nominal.swap_fn"><span class="id" title="definition">swap_fn</span></a> <a class="idref" href="Stlc.Nom.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Stlc.Nom.html#b"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">c</span>. <span class="id" title="var">autounfold</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="keyword">if</span> (<a class="idref" href="Stlc.Nom.html#A.V.E.eq_dec"><span class="id" title="axiom">V.E.eq_dec</span></a> <span class="id" title="var">a</span> <span class="id" title="var">c</span>) <span class="id" title="keyword">then</span> <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> (<span class="id" title="keyword">if</span> (<a class="idref" href="Stlc.Nom.html#A.V.E.eq_dec"><span class="id" title="axiom">V.E.eq_dec</span></a> <span class="id" title="var">b</span> <span class="id" title="var">c</span>) <span class="id" title="keyword">then</span> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="var">c</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">c'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">c'</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Stlc.Nom.html#A.V.E.eq_dec"><span class="id" title="axiom">V.E.eq_dec</span></a> <span class="id" title="var">a</span> <span class="id" title="var">c</span>); <span class="id" title="tactic">destruct</span> (<a class="idref" href="Stlc.Nom.html#A.V.E.eq_dec"><span class="id" title="axiom">V.E.eq_dec</span></a> <span class="id" title="var">b</span> <span class="id" title="var">c</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Stlc.Nom.html#A.V.E.eq_dec"><span class="id" title="axiom">V.E.eq_dec</span></a> <span class="id" title="var">b</span> <span class="id" title="var">b</span>);<span class="id" title="tactic">destruct</span> (<a class="idref" href="Stlc.Nom.html#A.V.E.eq_dec"><span class="id" title="axiom">V.E.eq_dec</span></a> <span class="id" title="var">a</span> <span class="id" title="var">a</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Stlc.Nom.html#A.V.E.eq_dec"><span class="id" title="axiom">V.E.eq_dec</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Stlc.Nom.html#A.V.E.eq_dec"><span class="id" title="axiom">V.E.eq_dec</span></a> <span class="id" title="var">a</span> <span class="id" title="var">c</span>); <span class="id" title="tactic">destruct</span> (<a class="idref" href="Stlc.Nom.html#A.V.E.eq_dec"><span class="id" title="axiom">V.E.eq_dec</span></a> <span class="id" title="var">b</span> <span class="id" title="var">c</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#Nominal.eq_leibniz_iff"><span class="id" title="lemma">eq_leibniz_iff</span></a> <span class="id" title="keyword">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<span class="id" title="var">tryfalse</span>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Nominal.id_swap_fn"><span class="id" title="lemma">id_swap_fn</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">~</span></a> <a class="idref" href="Stlc.Nom.html#A.V.In"><span class="id" title="axiom">V.In</span></a> <a class="idref" href="Stlc.Nom.html#c"><span class="id" title="variable">c</span></a> (<a class="idref" href="Stlc.Nom.html#A.V.union"><span class="id" title="axiom">V.union</span></a> (<a class="idref" href="Stlc.Nom.html#A.V.singleton"><span class="id" title="axiom">V.singleton</span></a> <a class="idref" href="Stlc.Nom.html#a"><span class="id" title="variable">a</span></a>) (<a class="idref" href="Stlc.Nom.html#A.V.singleton"><span class="id" title="axiom">V.singleton</span></a> <a class="idref" href="Stlc.Nom.html#b"><span class="id" title="variable">b</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.swap_fn"><span class="id" title="definition">swap_fn</span></a> <a class="idref" href="Stlc.Nom.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Stlc.Nom.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Stlc.Nom.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Stlc.Nom.html#c"><span class="id" title="variable">c</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hc</span>. <span class="id" title="var">autounfold</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Stlc.Nom.html#A.V.E.eq_dec"><span class="id" title="axiom">V.E.eq_dec</span></a> <span class="id" title="var">a</span> <span class="id" title="var">c</span>); <span class="id" title="tactic">destruct</span> (<a class="idref" href="Stlc.Nom.html#A.V.E.eq_dec"><span class="id" title="axiom">V.E.eq_dec</span></a> <span class="id" title="var">b</span> <span class="id" title="var">c</span>);<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">set</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">set</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Nominal.has_fin_supp_swap_fn"><span class="id" title="lemma">has_fin_supp_swap_fn</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> : <a class="idref" href="Stlc.Nom.html#Nominal.has_fin_supp"><span class="id" title="definition">has_fin_supp</span></a> (<a class="idref" href="Stlc.Nom.html#Nominal.swap_fn"><span class="id" title="definition">swap_fn</span></a> <a class="idref" href="Stlc.Nom.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Stlc.Nom.html#b"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">autounfold</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="Stlc.Nom.html#A.V.union"><span class="id" title="axiom">V.union</span></a> (<a class="idref" href="Stlc.Nom.html#A.V.singleton"><span class="id" title="axiom">V.singleton</span></a> <span class="id" title="var">a</span>) (<a class="idref" href="Stlc.Nom.html#A.V.singleton"><span class="id" title="axiom">V.singleton</span></a> <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Stlc.Nom.html#Nominal.id_swap_fn"><span class="id" title="lemma">id_swap_fn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Nominal.is_biject_swap_fn"><span class="id" title="lemma">is_biject_swap_fn</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> : <a class="idref" href="Stlc.Nom.html#Nominal.is_biject"><span class="id" title="definition">is_biject</span></a> (<a class="idref" href="Stlc.Nom.html#Nominal.swap_fn"><span class="id" title="definition">swap_fn</span></a> <a class="idref" href="Stlc.Nom.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Stlc.Nom.html#b"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Stlc.Nom.html#Nominal.is_inj_swap_fn"><span class="id" title="lemma">is_inj_swap_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Stlc.Nom.html#Nominal.is_surj_swap_fn"><span class="id" title="lemma">is_surj_swap_fn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Nominal.swap"><span class="id" title="definition">swap</span></a> (<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <a class="idref" href="Stlc.Nom.html#A.V.elt"><span class="id" title="definition">V.elt</span></a>) : <a class="idref" href="Stlc.Nom.html#Nominal.Perm"><span class="id" title="record">Perm</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">perm</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">swap_fn</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">a</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">b</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">perm_inv</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">swap_fn</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">a</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">b</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">l_inv</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">swap_fn_involution</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">r_inv</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">swap_fn_involution</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">fin_supp</span></a>  <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">has_fin_supp_swap_fn</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">a</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_Perm"><span class="id" title="constructor">b</span></a>|}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Nominal.swap_involution"><span class="id" title="lemma">swap_involution</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> : <a class="idref" href="Stlc.Nom.html#9f6d795c3a58a1c7b4664b280c99ef16"><span class="id" title="notation">(</span></a><a class="idref" href="Stlc.Nom.html#Nominal.swap"><span class="id" title="definition">swap</span></a> <a class="idref" href="Stlc.Nom.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Stlc.Nom.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="Stlc.Nom.html#9f6d795c3a58a1c7b4664b280c99ef16"><span class="id" title="notation">)</span></a> <a class="idref" href="Stlc.Nom.html#9f6d795c3a58a1c7b4664b280c99ef16"><span class="id" title="notation">∘</span></a><a class="idref" href="Stlc.Nom.html#9f6d795c3a58a1c7b4664b280c99ef16"><span class="id" title="notation">p</span></a> <a class="idref" href="Stlc.Nom.html#9f6d795c3a58a1c7b4664b280c99ef16"><span class="id" title="notation">(</span></a><a class="idref" href="Stlc.Nom.html#Nominal.swap"><span class="id" title="definition">swap</span></a> <a class="idref" href="Stlc.Nom.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Stlc.Nom.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="Stlc.Nom.html#9f6d795c3a58a1c7b4664b280c99ef16"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.id_perm"><span class="id" title="definition">id_perm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Stlc.Nom.html#Nominal.perm_eq"><span class="id" title="lemma">perm_eq</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#Nominal.swap_fn_involution"><span class="id" title="lemma">swap_fn_involution</span></a>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">ListNotations</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="Nominal.zip"><span class="id" title="definition">zip</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">xs</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Stlc.Nom.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">ys</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Stlc.Nom.html#B"><span class="id" title="variable">B</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="Stlc.Nom.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">*</span></a> <a class="idref" href="Stlc.Nom.html#B"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Stlc.Nom.html#xs"><span class="id" title="variable">xs</span></a>, <a class="idref" href="Stlc.Nom.html#ys"><span class="id" title="variable">ys</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><span class="id" title="var">xs'</span>), (<span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><span class="id" title="var">ys'</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="Stlc.Nom.html#zip"><span class="id" title="definition">zip</span></a> <span class="id" title="var">xs'</span> <span class="id" title="var">ys'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Swapping&nbsp;bunch&nbsp;of&nbsp;atoms&nbsp;as&nbsp;a&nbsp;composition&nbsp;of&nbsp;primitive&nbsp;swaps&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Nominal.swap_iter_fn"><span class="id" title="definition">swap_iter_fn</span></a> (<span class="id" title="var">vs</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="Stlc.Nom.html#Nominal.Atom"><span class="id" title="abbreviation">Atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">*</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Atom"><span class="id" title="abbreviation">Atom</span></a>)) : <a class="idref" href="Stlc.Nom.html#Nominal.Atom"><span class="id" title="abbreviation">Atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Atom"><span class="id" title="abbreviation">Atom</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> (<span class="id" title="var">e'</span> : (<a class="idref" href="Stlc.Nom.html#Nominal.Atom"><span class="id" title="abbreviation">Atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">*</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Atom"><span class="id" title="abbreviation">Atom</span></a>)) (<span class="id" title="var">f</span> : <a class="idref" href="Stlc.Nom.html#Nominal.Atom"><span class="id" title="abbreviation">Atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Atom"><span class="id" title="abbreviation">Atom</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">e1</span>,<span class="id" title="var">e2</span>) := <a class="idref" href="Stlc.Nom.html#e'"><span class="id" title="variable">e'</span></a> <span class="id" title="keyword">in</span> <a class="idref" href="Stlc.Nom.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#23b053569700a43fa034e3971fb6ded6"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#23b053569700a43fa034e3971fb6ded6"><span class="id" title="notation">(</span></a><a class="idref" href="Stlc.Nom.html#Nominal.swap_fn"><span class="id" title="definition">swap_fn</span></a> <a class="idref" href="Stlc.Nom.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="Stlc.Nom.html#e2"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#23b053569700a43fa034e3971fb6ded6"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="Stlc.Nom.html#vs"><span class="id" title="variable">vs</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;After&nbsp;we&nbsp;changed&nbsp;the&nbsp;definition&nbsp;of&nbsp;a&nbsp;permutation&nbsp;to&nbsp;contatin&nbsp;the&nbsp;inverse<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;permutation&nbsp;it&nbsp;has&nbsp;become&nbsp;trickier&nbsp;to&nbsp;define&nbsp;the&nbsp;iterated&nbsp;permutation&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TODO&nbsp;:&nbsp;fix&nbsp;prove&nbsp;this&nbsp;and&nbsp;finish&nbsp;the&nbsp;definition&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">swap_iter</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Lemma&nbsp;swap_iter_fn_involution&nbsp;{xs}&nbsp;:&nbsp;(swap_iter_fn&nbsp;xs)&nbsp;∘&nbsp;(swap_iter_fn&nbsp;xs)&nbsp;=&nbsp;id.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Proof.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;induction&nbsp;xs&nbsp;as&nbsp;<span class="inlinecode">|</span> <span class="inlinecode"><span class="id" title="var">x</span></span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;-&nbsp;reflexivity.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;-&nbsp;simpl.&nbsp;destruct&nbsp;x&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">x1</span></span> <span class="inlinecode"><span class="id" title="var">x2</span></span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change&nbsp;(swap_iter_fn&nbsp;xs&nbsp;∘&nbsp;(swap_fn&nbsp;x1&nbsp;x2&nbsp;∘&nbsp;swap_iter_fn&nbsp;xs)&nbsp;∘&nbsp;swap_fn&nbsp;x1&nbsp;x2&nbsp;=&nbsp;id).&nbsp;*)</span><br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">inj_comp_inj</span> <span class="id" title="var">is_inj_swap_fn</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Nominal.swap_iter_fn_inj"><span class="id" title="lemma">swap_iter_fn_inj</span></a> <span class="id" title="var">vs</span> : <a class="idref" href="Stlc.Nom.html#Nominal.is_inj"><span class="id" title="definition">is_inj</span></a> (<a class="idref" href="Stlc.Nom.html#Nominal.swap_iter_fn"><span class="id" title="definition">swap_iter_fn</span></a> <a class="idref" href="Stlc.Nom.html#vs"><span class="id" title="variable">vs</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">vs</span>;<span class="id" title="var">autounfold</span>;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Stlc.Nom.html#Nominal.is_inj"><span class="id" title="definition">is_inj</span></a> (<a class="idref" href="Stlc.Nom.html#Nominal.swap_iter_fn"><span class="id" title="definition">swap_iter_fn</span></a> <span class="id" title="var">vs</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#23b053569700a43fa034e3971fb6ded6"><span class="id" title="notation">∘</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.swap_fn"><span class="id" title="definition">swap_fn</span></a> <span class="id" title="var">e</span> <span class="id" title="var">e0</span>));<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">surj_comp_surj</span> <span class="id" title="var">is_surj_swap_fn</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Nominal.swap_iter_fn_surj"><span class="id" title="lemma">swap_iter_fn_surj</span></a> <span class="id" title="var">vs</span> : <a class="idref" href="Stlc.Nom.html#Nominal.is_surj"><span class="id" title="definition">is_surj</span></a> (<a class="idref" href="Stlc.Nom.html#Nominal.swap_iter_fn"><span class="id" title="definition">swap_iter_fn</span></a> <a class="idref" href="Stlc.Nom.html#vs"><span class="id" title="variable">vs</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">vs</span>;<span class="id" title="var">autounfold</span>;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Stlc.Nom.html#Nominal.is_surj"><span class="id" title="definition">is_surj</span></a> (<a class="idref" href="Stlc.Nom.html#Nominal.swap_iter_fn"><span class="id" title="definition">swap_iter_fn</span></a> <span class="id" title="var">vs</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#23b053569700a43fa034e3971fb6ded6"><span class="id" title="notation">∘</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.swap_fn"><span class="id" title="definition">swap_fn</span></a> <span class="id" title="var">e</span> <span class="id" title="var">e0</span>));<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Nominal.union_not_in"><span class="id" title="lemma">union_not_in</span></a> <span class="id" title="var">A</span> <span class="id" title="var">A'</span> <span class="id" title="var">e</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">~</span></a> <a class="idref" href="Stlc.Nom.html#A.V.In"><span class="id" title="axiom">V.In</span></a> <a class="idref" href="Stlc.Nom.html#e"><span class="id" title="variable">e</span></a> (<a class="idref" href="Stlc.Nom.html#A.V.union"><span class="id" title="axiom">V.union</span></a> <a class="idref" href="Stlc.Nom.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Stlc.Nom.html#A'"><span class="id" title="variable">A'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">~</span></a> <a class="idref" href="Stlc.Nom.html#A.V.In"><span class="id" title="axiom">V.In</span></a> <a class="idref" href="Stlc.Nom.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Stlc.Nom.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">~</span></a> <a class="idref" href="Stlc.Nom.html#A.V.In"><span class="id" title="axiom">V.In</span></a> <a class="idref" href="Stlc.Nom.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Stlc.Nom.html#A'"><span class="id" title="variable">A'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">set</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">SetProperties</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">P.Dec.F.singleton_1</span> <span class="id" title="var">P.Dec.F.singleton_2</span> <span class="id" title="var">V.E.eq_leibniz</span> : <span class="id" title="tactic">set</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Nominal.is_biject_swap_iter"><span class="id" title="lemma">is_biject_swap_iter</span></a> <span class="id" title="var">vs</span> <span class="id" title="var">vs'</span> : <a class="idref" href="Stlc.Nom.html#Nominal.is_biject"><span class="id" title="definition">is_biject</span></a> (<a class="idref" href="Stlc.Nom.html#Nominal.swap_iter_fn"><span class="id" title="definition">swap_iter_fn</span></a> (<a class="idref" href="Stlc.Nom.html#Nominal.zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="Stlc.Nom.html#vs"><span class="id" title="variable">vs</span></a> <a class="idref" href="Stlc.Nom.html#vs'"><span class="id" title="variable">vs'</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Stlc.Nom.html#Nominal.swap_iter_fn_inj"><span class="id" title="lemma">swap_iter_fn_inj</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Stlc.Nom.html#Nominal.swap_iter_fn_surj"><span class="id" title="lemma">swap_iter_fn_surj</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Nominal.has_fin_supp_swap_iter"><span class="id" title="lemma">has_fin_supp_swap_iter</span></a> <span class="id" title="var">vs</span> <span class="id" title="var">vs'</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Stlc.Nom.html#Nominal.has_fin_supp"><span class="id" title="definition">has_fin_supp</span></a> (<a class="idref" href="Stlc.Nom.html#Nominal.swap_iter_fn"><span class="id" title="definition">swap_iter_fn</span></a> (<a class="idref" href="Stlc.Nom.html#Nominal.zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="Stlc.Nom.html#vs"><span class="id" title="variable">vs</span></a> <a class="idref" href="Stlc.Nom.html#vs'"><span class="id" title="variable">vs'</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="Stlc.Nom.html#A.V.union"><span class="id" title="axiom">V.union</span></a> (<a class="idref" href="Stlc.Nom.html#Nominal.of_list"><span class="id" title="definition">P.of_list</span></a> <span class="id" title="var">vs</span>) (<a class="idref" href="Stlc.Nom.html#Nominal.of_list"><span class="id" title="definition">P.of_list</span></a> <span class="id" title="var">vs'</span>)). <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">vs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">vs</span>;<span class="id" title="tactic">destruct</span> <span class="id" title="var">vs'</span>;<span class="id" title="tactic">simpl</span>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Needed&nbsp;to&nbsp;apply&nbsp;IH&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">~</span></a> <a class="idref" href="Stlc.Nom.html#A.V.In"><span class="id" title="axiom">V.In</span></a> <span class="id" title="var">t</span> (<a class="idref" href="Stlc.Nom.html#A.V.union"><span class="id" title="axiom">V.union</span></a> (<a class="idref" href="Stlc.Nom.html#Nominal.of_list"><span class="id" title="definition">P.of_list</span></a> <span class="id" title="var">vs</span>) (<a class="idref" href="Stlc.Nom.html#Nominal.of_list"><span class="id" title="definition">P.of_list</span></a> <span class="id" title="var">vs'</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="Stlc.Nom.html#Nominal.union_not_in"><span class="id" title="lemma">union_not_in</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">set</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Needed&nbsp;to&nbsp;show&nbsp;that&nbsp;swap_n&nbsp;is&nbsp;the&nbsp;identity&nbsp;function&nbsp;outside&nbsp;of&nbsp;support&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Ha</span> : <span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">a</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="Stlc.Nom.html#Nominal.union_not_in"><span class="id" title="lemma">union_not_in</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">set</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">He</span> : <span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">e</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="Stlc.Nom.html#Nominal.union_not_in"><span class="id" title="lemma">union_not_in</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">set</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Ht</span> : <a class="idref" href="Stlc.Nom.html#Nominal.swap_fn"><span class="id" title="definition">swap_fn</span></a> <span class="id" title="var">a</span> <span class="id" title="var">e</span> <span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="Stlc.Nom.html#Nominal.id_swap_fn"><span class="id" title="lemma">id_swap_fn</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="Stlc.Nom.html#Nominal.union_not_in"><span class="id" title="lemma">union_not_in</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Stlc.Nom.html#Nominal.not_in_union"><span class="id" title="lemma">P.not_in_union</span></a>;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#not"><span class="id" title="definition">not</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">Ha</span>; <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">set</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">He</span>; <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">set</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Ht</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Definition&nbsp;swap_iter&nbsp;(vs&nbsp;vs'&nbsp;:&nbsp;V.t)&nbsp;:&nbsp;Perm&nbsp;:=&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;{|&nbsp;perm&nbsp;:=&nbsp;swap_iter_fn&nbsp;(zip&nbsp;(V.elements&nbsp;vs)&nbsp;(V.elements&nbsp;vs'));&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is_biject_perm&nbsp;:=&nbsp;is_biject_swap_iter&nbsp;_&nbsp;_;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;has_fin_supp_perm&nbsp;:=&nbsp;has_fin_supp_swap_iter&nbsp;_&nbsp;_|}.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a name="Nominal.NomSet"><span class="id" title="record">NomSet</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <a name="Nominal.Carrier"><span class="id" title="projection">Carrier</span></a> : <span class="id" title="keyword">Type</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Nominal.action"><span class="id" title="projection">action</span></a> : <a class="idref" href="Stlc.Nom.html#Nominal.Perm"><span class="id" title="record">Perm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#Carrier"><span class="id" title="method">Carrier</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#Carrier"><span class="id" title="method">Carrier</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Nominal.supp"><span class="id" title="projection">supp</span></a> : <a class="idref" href="Stlc.Nom.html#Carrier"><span class="id" title="method">Carrier</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#A.V.t"><span class="id" title="axiom">V.t</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Nominal.action_id"><span class="id" title="projection">action_id</span></a> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">x</span> : <a class="idref" href="Stlc.Nom.html#Carrier"><span class="id" title="method">Carrier</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="Stlc.Nom.html#action"><span class="id" title="method">action</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.id_perm"><span class="id" title="definition">id_perm</span></a> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Nominal.action_compose"><span class="id" title="projection">action_compose</span></a> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">x</span> : <a class="idref" href="Stlc.Nom.html#Carrier"><span class="id" title="method">Carrier</span></a>) (<span class="id" title="var">p</span> <span class="id" title="var">p'</span> : <a class="idref" href="Stlc.Nom.html#Nominal.Perm"><span class="id" title="record">Perm</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="Stlc.Nom.html#action"><span class="id" title="method">action</span></a> <a class="idref" href="Stlc.Nom.html#p"><span class="id" title="variable">p</span></a> (<a class="idref" href="Stlc.Nom.html#action"><span class="id" title="method">action</span></a> <a class="idref" href="Stlc.Nom.html#p'"><span class="id" title="variable">p'</span></a> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="Stlc.Nom.html#action"><span class="id" title="method">action</span></a> (<a class="idref" href="Stlc.Nom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="Stlc.Nom.html#9f6d795c3a58a1c7b4664b280c99ef16"><span class="id" title="notation">∘</span></a><a class="idref" href="Stlc.Nom.html#9f6d795c3a58a1c7b4664b280c99ef16"><span class="id" title="notation">p</span></a> <a class="idref" href="Stlc.Nom.html#p'"><span class="id" title="variable">p'</span></a>) <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Nominal.support_spec"><span class="id" title="projection">support_spec</span></a> : <span class="id" title="keyword">forall</span>  (<span class="id" title="var">r</span> : <a class="idref" href="Stlc.Nom.html#Nominal.Perm"><span class="id" title="record">Perm</span></a>)  (<span class="id" title="var">x</span> : <a class="idref" href="Stlc.Nom.html#Carrier"><span class="id" title="method">Carrier</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> (<span class="id" title="var">a</span> : <a class="idref" href="Stlc.Nom.html#Nominal.Atom"><span class="id" title="abbreviation">Atom</span></a>), <a class="idref" href="Stlc.Nom.html#A.V.In"><span class="id" title="axiom">V.In</span></a> <a class="idref" href="Stlc.Nom.html#a"><span class="id" title="variable">a</span></a> (<a class="idref" href="Stlc.Nom.html#supp"><span class="id" title="method">supp</span></a> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> (<a class="idref" href="Stlc.Nom.html#Nominal.perm"><span class="id" title="projection">perm</span></a> <a class="idref" href="Stlc.Nom.html#r"><span class="id" title="variable">r</span></a>) <a class="idref" href="Stlc.Nom.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Stlc.Nom.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="Stlc.Nom.html#action"><span class="id" title="method">action</span></a> <a class="idref" href="Stlc.Nom.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Coercion</span> <a class="idref" href="Stlc.Nom.html#Nominal.Carrier"><span class="id" title="method">Carrier</span></a> : <span class="id" title="var">NomSet</span> &gt;-&gt; <span class="id" title="var">Sortclass</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="9e15fb830bdb1c7dfddcfb3ed059f7c8"><span class="id" title="notation">&quot;</span></a>r @ x" := (<a class="idref" href="Stlc.Nom.html#Nominal.action"><span class="id" title="method">action</span></a> <span class="id" title="var">r</span> <span class="id" title="var">x</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 100).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Nominal.equivar_fn"><span class="id" title="definition">equivar_fn</span></a> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <a class="idref" href="Stlc.Nom.html#Nominal.NomSet"><span class="id" title="class">NomSet</span></a>} (<span class="id" title="var">f</span> : <a class="idref" href="Stlc.Nom.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#Y"><span class="id" title="variable">Y</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">p</span>, <a class="idref" href="Stlc.Nom.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Stlc.Nom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="Stlc.Nom.html#9e15fb830bdb1c7dfddcfb3ed059f7c8"><span class="id" title="notation">@</span></a> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="Stlc.Nom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="Stlc.Nom.html#9e15fb830bdb1c7dfddcfb3ed059f7c8"><span class="id" title="notation">@</span></a> <a class="idref" href="Stlc.Nom.html#9e15fb830bdb1c7dfddcfb3ed059f7c8"><span class="id" title="notation">(</span></a><a class="idref" href="Stlc.Nom.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="Stlc.Nom.html#9e15fb830bdb1c7dfddcfb3ed059f7c8"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Nominal.equivar_fn2"><span class="id" title="definition">equivar_fn2</span></a> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> : <a class="idref" href="Stlc.Nom.html#Nominal.NomSet"><span class="id" title="class">NomSet</span></a>} (<span class="id" title="var">f</span> : <a class="idref" href="Stlc.Nom.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#Z"><span class="id" title="variable">Z</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">p</span>, <a class="idref" href="Stlc.Nom.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Stlc.Nom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="Stlc.Nom.html#9e15fb830bdb1c7dfddcfb3ed059f7c8"><span class="id" title="notation">@</span></a> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="Stlc.Nom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="Stlc.Nom.html#9e15fb830bdb1c7dfddcfb3ed059f7c8"><span class="id" title="notation">@</span></a> <a class="idref" href="Stlc.Nom.html#y"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="Stlc.Nom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="Stlc.Nom.html#9e15fb830bdb1c7dfddcfb3ed059f7c8"><span class="id" title="notation">@</span></a> <a class="idref" href="Stlc.Nom.html#9e15fb830bdb1c7dfddcfb3ed059f7c8"><span class="id" title="notation">(</span></a><a class="idref" href="Stlc.Nom.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Stlc.Nom.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="Stlc.Nom.html#9e15fb830bdb1c7dfddcfb3ed059f7c8"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Nominal.equivar_rel"><span class="id" title="definition">equivar_rel</span></a> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <a class="idref" href="Stlc.Nom.html#Nominal.NomSet"><span class="id" title="class">NomSet</span></a>} (<span class="id" title="var">R</span> : <a class="idref" href="Stlc.Nom.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">x</span> : <a class="idref" href="Stlc.Nom.html#X"><span class="id" title="variable">X</span></a>) (<span class="id" title="var">y</span> : <a class="idref" href="Stlc.Nom.html#Y"><span class="id" title="variable">Y</span></a>) (<span class="id" title="var">p</span> : <a class="idref" href="Stlc.Nom.html#Nominal.Perm"><span class="id" title="record">Perm</span></a>), <a class="idref" href="Stlc.Nom.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Stlc.Nom.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#R"><span class="id" title="variable">R</span></a> (<a class="idref" href="Stlc.Nom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="Stlc.Nom.html#9e15fb830bdb1c7dfddcfb3ed059f7c8"><span class="id" title="notation">@</span></a> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="Stlc.Nom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="Stlc.Nom.html#9e15fb830bdb1c7dfddcfb3ed059f7c8"><span class="id" title="notation">@</span></a> <a class="idref" href="Stlc.Nom.html#y"><span class="id" title="variable">y</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a name="Nominal.NomAtom"><span class="id" title="module">NomAtom</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="Nominal.NomAtom.NomAtom"><span class="id" title="instance">NomAtom</span></a> : <a class="idref" href="Stlc.Nom.html#Nominal.NomSet"><span class="id" title="class">NomSet</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">Carrier</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">Atom</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">action</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">:=</span></a> <span class="id" title="keyword">fun</span> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">p</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">a</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">=&gt;</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">(</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">perm</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">p</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">)</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">a</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">supp</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">:=</span></a> <span class="id" title="keyword">fun</span> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">a</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">=&gt;</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">V.singleton</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">a</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">action_id</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">:=</span></a> <span class="id" title="keyword">fun</span> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">a</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">=&gt;</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">eq_refl</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">_</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">action_compose</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">:=</span></a> <span class="id" title="keyword">fun</span> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">a</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">p1</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">p2</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">=&gt;</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">eq_refl</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">support_spec</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">_</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|}).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;support_spec&nbsp;*)</span> <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">set</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Stlc.Nom.html#Nominal.NomAtom"><span class="id" title="module">NomAtom</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a name="Nominal.PFin"><span class="id" title="module">PFin</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">V</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">V.set_map_spec_1</span> <span class="id" title="var">V.set_map_spec</span> <span class="id" title="var">V.set_map_iff</span> : <span class="id" title="tactic">set</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="Nominal.PFin.PFin"><span class="id" title="instance">PFin</span></a> : <a class="idref" href="Stlc.Nom.html#Nominal.NomSet"><span class="id" title="class">NomSet</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ({| <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">Carrier</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">V.t</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">action</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">:=</span></a> <span class="id" title="keyword">fun</span> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">p</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">x</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">=&gt;</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">V.set_map</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">(</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">perm</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">p</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">)</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">x</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">supp</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">:=</span></a> <span class="id" title="keyword">fun</span> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">x</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">=&gt;</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">x</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">action_id</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">_</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">action_compose</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">_</span></a><a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">support_spec</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.Build_NomSet"><span class="id" title="constructor">_</span></a>|}).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;action_id*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Stlc.Nom.html#Nominal.action"><span class="id" title="method">action</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Stlc.Nom.html#A.V.set_extensionality"><span class="id" title="axiom">V.set_extensionality</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#A.V.set_map_iff"><span class="id" title="axiom">V.set_map_iff</span></a> <span class="id" title="keyword">in</span> *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">y</span> <span class="id" title="var">H</span>]. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>;<span class="id" title="tactic">subst</span>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">set</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;action_compose&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">r</span> <span class="id" title="var">r'</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Stlc.Nom.html#Nominal.action"><span class="id" title="method">action</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="Stlc.Nom.html#A.V.set_extensionality"><span class="id" title="axiom">V.set_extensionality</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#A.V.set_map_iff"><span class="id" title="axiom">V.set_map_iff</span></a> <span class="id" title="keyword">in</span> *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>;<span class="id" title="tactic">subst</span>;<span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#A.V.set_map_iff"><span class="id" title="axiom">V.set_map_iff</span></a> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x1</span>;<span class="id" title="tactic">split</span>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#A.V.set_map_iff"><span class="id" title="axiom">V.set_map_iff</span></a> <span class="id" title="keyword">in</span> *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x1</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> ((<a class="idref" href="Stlc.Nom.html#Nominal.perm"><span class="id" title="projection">perm</span></a> <span class="id" title="var">r'</span>) <span class="id" title="var">x1</span>). <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">split</span>;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">set</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;support_spec&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Stlc.Nom.html#Nominal.action"><span class="id" title="method">action</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Stlc.Nom.html#A.V.set_extensionality"><span class="id" title="axiom">set_extensionality</span></a>. <span class="id" title="tactic">intro</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">set</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#A.V.set_map_iff"><span class="id" title="axiom">set_map_iff</span></a> <span class="id" title="keyword">in</span> *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">y'</span> <span class="id" title="var">Hy'</span>]. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hy'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Stlc.Nom.html#A.V.set_map_spec_1"><span class="id" title="axiom">set_map_spec_1</span></a>;<span class="id" title="tactic">try</span> <span class="id" title="tactic">symmetry</span>;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a name="Nominal.PFin.Dec"><span class="id" title="module">Dec</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Logic.Eqdep_dec.html#DecidableEqDep"><span class="id" title="module">DecidableEqDep</span></a> <a class="idref" href="Stlc.OrdSet.html#BoolDec"><span class="id" title="module">BoolDec</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Stlc.Nom.html#Nominal.PFin"><span class="id" title="module">PFin</span></a>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;----------------------------------------------&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Freshness&nbsp;conditions&nbsp;and&nbsp;fresh&nbsp;name&nbsp;generators&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;----------------------------------------------&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">NomAtom</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">PFin</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Nominal.fresh"><span class="id" title="definition">fresh</span></a> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <a class="idref" href="Stlc.Nom.html#Nominal.NomSet"><span class="id" title="class">NomSet</span></a>} : <a class="idref" href="Stlc.Nom.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<span class="id" title="var">x</span> : <a class="idref" href="Stlc.Nom.html#X"><span class="id" title="variable">X</span></a>) (<span class="id" title="var">y</span> :<a class="idref" href="Stlc.Nom.html#Y"><span class="id" title="variable">Y</span></a>) =&gt; <a class="idref" href="Stlc.Nom.html#A.V.Disjoint"><span class="id" title="axiom">V.Disjoint</span></a> (<a class="idref" href="Stlc.Nom.html#Nominal.supp"><span class="id" title="method">supp</span></a> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="Stlc.Nom.html#Nominal.supp"><span class="id" title="method">supp</span></a> <a class="idref" href="Stlc.Nom.html#y"><span class="id" title="variable">y</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> <a name="69755064da56401a65601b204f6a47d1"><span class="id" title="notation">&quot;</span></a>#" := <a class="idref" href="Stlc.Nom.html#Nominal.fresh"><span class="id" title="definition">fresh</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">V</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Nominal.disjoint_not_in_1"><span class="id" title="lemma">disjoint_not_in_1</span></a> {<span class="id" title="var">X</span> <span class="id" title="var">e</span>} : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">~</span></a> <a class="idref" href="Stlc.Nom.html#A.V.In"><span class="id" title="axiom">In</span></a> <a class="idref" href="Stlc.Nom.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Stlc.Nom.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#A.V.Disjoint"><span class="id" title="axiom">Disjoint</span></a> (<a class="idref" href="Stlc.Nom.html#A.V.singleton"><span class="id" title="axiom">singleton</span></a> <a class="idref" href="Stlc.Nom.html#e"><span class="id" title="variable">e</span></a>) <a class="idref" href="Stlc.Nom.html#X"><span class="id" title="variable">X</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Stlc.Nom.html#A.V.Disjoint_spec"><span class="id" title="axiom">Disjoint_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#not"><span class="id" title="definition">not</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#Nominal.singleton_iff"><span class="id" title="lemma">P.Dec.F.singleton_iff</span></a> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#Nominal.eq_leibniz_iff"><span class="id" title="lemma">eq_leibniz_iff</span></a> <span class="id" title="keyword">in</span> *. <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Nominal.disjoint_not_in_2"><span class="id" title="lemma">disjoint_not_in_2</span></a> {<span class="id" title="var">X</span> <span class="id" title="var">e</span>} : <a class="idref" href="Stlc.Nom.html#A.V.Disjoint"><span class="id" title="axiom">Disjoint</span></a> (<a class="idref" href="Stlc.Nom.html#A.V.singleton"><span class="id" title="axiom">singleton</span></a> <a class="idref" href="Stlc.Nom.html#e"><span class="id" title="variable">e</span></a>) <a class="idref" href="Stlc.Nom.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">~</span></a> <a class="idref" href="Stlc.Nom.html#A.V.In"><span class="id" title="axiom">In</span></a> <a class="idref" href="Stlc.Nom.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Stlc.Nom.html#X"><span class="id" title="variable">X</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#A.V.Disjoint_spec"><span class="id" title="axiom">Disjoint_spec</span></a> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#not"><span class="id" title="definition">not</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">H</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">set</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Nominal.disjoint_not_in"><span class="id" title="lemma">disjoint_not_in</span></a> {<span class="id" title="var">X</span> <span class="id" title="var">e</span>}: <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">~</span></a> <a class="idref" href="Stlc.Nom.html#A.V.In"><span class="id" title="axiom">In</span></a> <a class="idref" href="Stlc.Nom.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Stlc.Nom.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#A.V.Disjoint"><span class="id" title="axiom">Disjoint</span></a> (<a class="idref" href="Stlc.Nom.html#A.V.singleton"><span class="id" title="axiom">singleton</span></a> <a class="idref" href="Stlc.Nom.html#e"><span class="id" title="variable">e</span></a>) <a class="idref" href="Stlc.Nom.html#X"><span class="id" title="variable">X</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Stlc.Nom.html#Nominal.disjoint_not_in_1"><span class="id" title="lemma">disjoint_not_in_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Stlc.Nom.html#Nominal.disjoint_not_in_2"><span class="id" title="lemma">disjoint_not_in_2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Nominal.not_in_set_fresh"><span class="id" title="lemma">not_in_set_fresh</span></a> (<span class="id" title="var">a</span> : <a class="idref" href="Stlc.Nom.html#Nominal.NomAtom"><span class="id" title="instance">NomAtom</span></a>) (<span class="id" title="var">A</span> : <a class="idref" href="Stlc.Nom.html#Nominal.PFin"><span class="id" title="instance">PFin</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">~</span></a> <a class="idref" href="Stlc.Nom.html#A.V.In"><span class="id" title="axiom">In</span></a> <a class="idref" href="Stlc.Nom.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Stlc.Nom.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Stlc.Nom.html#69755064da56401a65601b204f6a47d1"><span class="id" title="notation">#</span></a> <a class="idref" href="Stlc.Nom.html#A"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Stlc.Nom.html#Nominal.fresh"><span class="id" title="definition">fresh</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="Stlc.Nom.html#Nominal.disjoint_not_in"><span class="id" title="lemma">disjoint_not_in</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Type of a function with a property, that generated atom is fresh for the set <span class="inlinecode"><a class="idref" href="Stlc.stlc.html#a"><span class="id" title="variable">a</span></a></span> 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Nominal.FreshFn"><span class="id" title="definition">FreshFn</span></a> (<span class="id" title="var">a</span> : <a class="idref" href="Stlc.Nom.html#A.V.t"><span class="id" title="axiom">V.t</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">{</span></a><span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">:</span></a> <a class="idref" href="Stlc.Nom.html#A.V.t"><span class="id" title="axiom">V.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.NomAtom"><span class="id" title="instance">NomAtom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">|</span></a> <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <a class="idref" href="Stlc.Nom.html#69755064da56401a65601b204f6a47d1"><span class="id" title="notation">(</span></a><span class="id" title="var">f</span> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="Stlc.Nom.html#69755064da56401a65601b204f6a47d1"><span class="id" title="notation">)</span></a> <a class="idref" href="Stlc.Nom.html#69755064da56401a65601b204f6a47d1"><span class="id" title="notation">#</span></a> <a class="idref" href="Stlc.Nom.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">}</span></a>.<br/>

<br/>
</div>

<div class="doc">
Function that generates a fresh atom using <span class="inlinecode"><a class="idref" href="Stlc.nomstlc.html#AtomN.Atom_inf"><span class="id" title="axiom">Atom_inf</span></a></span> property 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Nominal.fresh_fn"><span class="id" title="definition">fresh_fn</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>, <a class="idref" href="Stlc.Nom.html#Nominal.FreshFn"><span class="id" title="definition">FreshFn</span></a> <a class="idref" href="Stlc.Nom.html#a"><span class="id" title="variable">a</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> =&gt;  <span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <a class="idref" href="Stlc.Nom.html#Nominal.Atom_inf"><span class="id" title="axiom">Atom.Atom_inf</span></a> <a class="idref" href="Stlc.Nom.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">f</span> : <a class="idref" href="Stlc.Nom.html#A.V.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#Nominal.NomAtom"><span class="id" title="instance">NomAtom</span></a> =&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> : <a class="idref" href="Stlc.Nom.html#A.V.t"><span class="id" title="axiom">t</span></a>, (<a class="idref" href="Stlc.Nom.html#69755064da56401a65601b204f6a47d1"><span class="id" title="notation">(</span></a><a class="idref" href="Stlc.Nom.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="Stlc.Nom.html#69755064da56401a65601b204f6a47d1"><span class="id" title="notation">)</span></a> <a class="idref" href="Stlc.Nom.html#69755064da56401a65601b204f6a47d1"><span class="id" title="notation">#</span></a> <a class="idref" href="Stlc.Nom.html#a"><span class="id" title="variable">a</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> : <a class="idref" href="Stlc.Nom.html#A.V.t"><span class="id" title="axiom">t</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="Stlc.Nom.html#H"><span class="id" title="variable">H</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> : <a class="idref" href="Stlc.Nom.html#A.V.t"><span class="id" title="axiom">t</span></a> =&gt; <a class="idref" href="Stlc.Nom.html#Nominal.disjoint_not_in_1"><span class="id" title="lemma">disjoint_not_in_1</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#proj2_sig"><span class="id" title="definition">proj2_sig</span></a> <a class="idref" href="Stlc.Nom.html#H"><span class="id" title="variable">H</span></a>)).<br/>

<br/>
</div>

<div class="doc">
Set of fresh atoms (wrt the set <span class="inlinecode"><a class="idref" href="Stlc.stlc.html#a"><span class="id" title="variable">a</span></a></span>) of cardinality <span class="inlinecode"><a class="idref" href="Stlc.stlc.html#n"><span class="id" title="variable">n</span></a></span> 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Nominal.AllFresh"><span class="id" title="definition">AllFresh</span></a> <span class="id" title="var">a</span> <span class="id" title="var">n</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">{</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">:</span></a> <a class="idref" href="Stlc.Nom.html#A.V.t"><span class="id" title="axiom">V.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><span class="id" title="var">b</span> <a class="idref" href="Stlc.Nom.html#69755064da56401a65601b204f6a47d1"><span class="id" title="notation">#</span></a> <a class="idref" href="Stlc.Nom.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">/\</span></a> <a class="idref" href="Stlc.Nom.html#A.V.cardinal"><span class="id" title="axiom">V.cardinal</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Stlc.Nom.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">}</span></a>.<br/>

<br/>
</div>

<div class="doc">
Computational part of a function that generates set of fresh atoms 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="Nominal.get_freshs_internal"><span class="id" title="definition">get_freshs_internal</span></a> (<span class="id" title="var">X</span> : <a class="idref" href="Stlc.Nom.html#A.V.t"><span class="id" title="axiom">V.t</span></a>) (<span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="Stlc.Nom.html#A.V.t"><span class="id" title="axiom">V.t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Stlc.Nom.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> =&gt; <a class="idref" href="Stlc.Nom.html#A.V.empty"><span class="id" title="axiom">empty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n'</span> =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">fatom</span> := (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> (<a class="idref" href="Stlc.Nom.html#Nominal.fresh_fn"><span class="id" title="definition">fresh_fn</span></a> <a class="idref" href="Stlc.Nom.html#X"><span class="id" title="variable">X</span></a>)) <a class="idref" href="Stlc.Nom.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Stlc.Nom.html#A.V.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="Stlc.Nom.html#fatom"><span class="id" title="variable">fatom</span></a> (<a class="idref" href="Stlc.Nom.html#get_freshs_internal"><span class="id" title="definition">get_freshs_internal</span></a> (<a class="idref" href="Stlc.Nom.html#A.V.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="Stlc.Nom.html#fatom"><span class="id" title="variable">fatom</span></a> <a class="idref" href="Stlc.Nom.html#X"><span class="id" title="variable">X</span></a>) <span class="id" title="var">n'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Nominal.get_freshs_internal_all_fresh"><span class="id" title="lemma">get_freshs_internal_all_fresh</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">a</span>, <a class="idref" href="Stlc.Nom.html#69755064da56401a65601b204f6a47d1"><span class="id" title="notation">(</span></a><a class="idref" href="Stlc.Nom.html#Nominal.get_freshs_internal"><span class="id" title="definition">get_freshs_internal</span></a> <a class="idref" href="Stlc.Nom.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Stlc.Nom.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="Stlc.Nom.html#69755064da56401a65601b204f6a47d1"><span class="id" title="notation">)</span></a> <a class="idref" href="Stlc.Nom.html#69755064da56401a65601b204f6a47d1"><span class="id" title="notation">#</span></a> <a class="idref" href="Stlc.Nom.html#a"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">compute</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Stlc.Nom.html#A.V.Disjoint_spec"><span class="id" title="axiom">Disjoint_spec</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#not"><span class="id" title="definition">not</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">L</span> <span class="id" title="var">R</span>]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#Nominal.empty_iff"><span class="id" title="lemma">P.Dec.F.empty_iff</span></a> <span class="id" title="keyword">in</span> *. <span class="id" title="tactic">inversion</span> <span class="id" title="var">L</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Stlc.Nom.html#Nominal.fresh"><span class="id" title="definition">fresh</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#A.V.Disjoint_spec"><span class="id" title="axiom">Disjoint_spec</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#not"><span class="id" title="definition">not</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#Nominal.add_iff"><span class="id" title="lemma">SetProperties.P.Dec.F.add_iff</span></a> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#Nominal.eq_leibniz_iff"><span class="id" title="lemma">eq_leibniz_iff</span></a> <span class="id" title="keyword">in</span> *. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#proj2_sig"><span class="id" title="definition">proj2_sig</span></a> (<a class="idref" href="Stlc.Nom.html#Nominal.Atom_inf"><span class="id" title="axiom">Atom.Atom_inf</span></a> <span class="id" title="var">a</span>));<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">unfold</span> <a class="idref" href="Stlc.Nom.html#Nominal.fresh"><span class="id" title="definition">fresh</span></a> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HH</span> := <span class="id" title="var">IHn</span> (<a class="idref" href="Stlc.Nom.html#A.V.add"><span class="id" title="axiom">add</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> (<a class="idref" href="Stlc.Nom.html#Nominal.Atom_inf"><span class="id" title="axiom">Atom.Atom_inf</span></a> <span class="id" title="var">a</span>)) <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#A.V.Disjoint_spec"><span class="id" title="axiom">Disjoint_spec</span></a> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">HH</span> <span class="id" title="var">k</span>). <span class="id" title="tactic">clear</span> <span class="id" title="var">IHn</span> <span class="id" title="var">HH</span>. <span class="id" title="tactic">split</span>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#Nominal.add_iff"><span class="id" title="lemma">SetProperties.P.Dec.F.add_iff</span></a> <span class="id" title="keyword">in</span> *. <span class="id" title="tactic">intuition</span>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Nominal.get_freshs_cardinality"><span class="id" title="lemma">get_freshs_cardinality</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">a</span>, <a class="idref" href="Stlc.Nom.html#A.V.cardinal"><span class="id" title="axiom">V.cardinal</span></a> (<a class="idref" href="Stlc.Nom.html#Nominal.get_freshs_internal"><span class="id" title="definition">get_freshs_internal</span></a> <a class="idref" href="Stlc.Nom.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Stlc.Nom.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Stlc.Nom.html#n"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">set</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#Nominal.add_cardinal_2"><span class="id" title="lemma">SetProperties.P.add_cardinal_2</span></a>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> (<a class="idref" href="Stlc.Nom.html#Nominal.Atom_inf"><span class="id" title="axiom">Atom.Atom_inf</span></a> <span class="id" title="var">a</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span> := <a class="idref" href="Stlc.Nom.html#Nominal.get_freshs_internal_all_fresh"><span class="id" title="lemma">get_freshs_internal_all_fresh</span></a> <span class="id" title="var">n</span> (<a class="idref" href="Stlc.Nom.html#A.V.add"><span class="id" title="axiom">add</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#not"><span class="id" title="definition">not</span></a>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Stlc.Nom.html#Nominal.fresh"><span class="id" title="definition">fresh</span></a> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#A.V.Disjoint_spec"><span class="id" title="axiom">Disjoint_spec</span></a> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">H</span> <span class="id" title="var">b</span>). <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#Nominal.add_iff"><span class="id" title="lemma">SetProperties.P.Dec.F.add_iff</span></a> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">set</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Function that generates set of fresh atoms along with 
</div>
<div class="code">
&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;proof&nbsp;of&nbsp;freshness&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Nominal.get_freshs"><span class="id" title="definition">get_freshs</span></a> (<span class="id" title="var">X</span> : <a class="idref" href="Stlc.Nom.html#A.V.t"><span class="id" title="axiom">V.t</span></a>) (<span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="Stlc.Nom.html#Nominal.AllFresh"><span class="id" title="definition">AllFresh</span></a> <a class="idref" href="Stlc.Nom.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Stlc.Nom.html#n"><span class="id" title="variable">n</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> (<a class="idref" href="Stlc.Nom.html#Nominal.get_freshs_internal"><span class="id" title="definition">get_freshs_internal</span></a> <a class="idref" href="Stlc.Nom.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Stlc.Nom.html#n"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> (<a class="idref" href="Stlc.Nom.html#Nominal.get_freshs_internal_all_fresh"><span class="id" title="lemma">get_freshs_internal_all_fresh</span></a> <a class="idref" href="Stlc.Nom.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Stlc.Nom.html#X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Stlc.Nom.html#Nominal.get_freshs_cardinality"><span class="id" title="lemma">get_freshs_cardinality</span></a> <a class="idref" href="Stlc.Nom.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Stlc.Nom.html#X"><span class="id" title="variable">X</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a name="Nominal.NomFacts"><span class="id" title="module">NomFacts</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;An&nbsp;alternative&nbsp;characterisation&nbsp;of&nbsp;support&nbsp;in&nbsp;terms&nbsp;of&nbsp;swap&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Nominal.NomFacts.supp_spec_swap"><span class="id" title="lemma">supp_spec_swap</span></a> {<span class="id" title="var">X</span> : <a class="idref" href="Stlc.Nom.html#Nominal.NomSet"><span class="id" title="class">NomSet</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <a class="idref" href="Stlc.Nom.html#Nominal.Atom"><span class="id" title="abbreviation">Atom</span></a>) (<span class="id" title="var">x</span> : <a class="idref" href="Stlc.Nom.html#X"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">~</span></a> <a class="idref" href="Stlc.Nom.html#A.V.In"><span class="id" title="axiom">In</span></a> <a class="idref" href="Stlc.Nom.html#a"><span class="id" title="variable">a</span></a> (<a class="idref" href="Stlc.Nom.html#Nominal.supp"><span class="id" title="method">supp</span></a> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">~</span></a> <a class="idref" href="Stlc.Nom.html#A.V.In"><span class="id" title="axiom">In</span></a> <a class="idref" href="Stlc.Nom.html#b"><span class="id" title="variable">b</span></a> (<a class="idref" href="Stlc.Nom.html#Nominal.supp"><span class="id" title="method">supp</span></a> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="Stlc.Nom.html#9e15fb830bdb1c7dfddcfb3ed059f7c8"><span class="id" title="notation">(</span></a><a class="idref" href="Stlc.Nom.html#Nominal.swap"><span class="id" title="definition">swap</span></a> <a class="idref" href="Stlc.Nom.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Stlc.Nom.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="Stlc.Nom.html#9e15fb830bdb1c7dfddcfb3ed059f7c8"><span class="id" title="notation">)</span></a> <a class="idref" href="Stlc.Nom.html#9e15fb830bdb1c7dfddcfb3ed059f7c8"><span class="id" title="notation">@</span></a> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">x</span> <span class="id" title="var">Ha</span> <span class="id" title="var">Hb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Stlc.Nom.html#Nominal.support_spec"><span class="id" title="method">support_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> <span class="id" title="var">Ha'</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">autounfold</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Stlc.Nom.html#Nominal.SetProperties.P.FM.eq_dec"><span class="id" title="abbreviation">SetProperties.P.FM.eq_dec</span></a> <span class="id" title="var">a</span> <span class="id" title="var">a'</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Stlc.Nom.html#Nominal.SetProperties.P.FM.eq_dec"><span class="id" title="abbreviation">SetProperties.P.FM.eq_dec</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a'</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#Nominal.eq_leibniz_iff"><span class="id" title="lemma">eq_leibniz_iff</span></a> <span class="id" title="keyword">in</span> *; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">SetProperties.P.Dec.F.singleton_1</span> <span class="id" title="var">SetProperties.P.Dec.F.singleton_2</span> : <span class="id" title="tactic">set</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Nominal.NomFacts.action_singleton"><span class="id" title="lemma">action_singleton</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">r</span> <span class="id" title="var">e</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="Stlc.Nom.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="Stlc.Nom.html#9e15fb830bdb1c7dfddcfb3ed059f7c8"><span class="id" title="notation">@</span></a> <a class="idref" href="Stlc.Nom.html#9e15fb830bdb1c7dfddcfb3ed059f7c8"><span class="id" title="notation">(</span></a><a class="idref" href="Stlc.Nom.html#A.V.singleton"><span class="id" title="axiom">singleton</span></a> <a class="idref" href="Stlc.Nom.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="Stlc.Nom.html#9e15fb830bdb1c7dfddcfb3ed059f7c8"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Stlc.Nom.html#A.V.singleton"><span class="id" title="axiom">singleton</span></a> ((<a class="idref" href="Stlc.Nom.html#Nominal.perm"><span class="id" title="projection">perm</span></a> <a class="idref" href="Stlc.Nom.html#r"><span class="id" title="variable">r</span></a>) <a class="idref" href="Stlc.Nom.html#e"><span class="id" title="variable">e</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Stlc.Nom.html#A.V.set_extensionality"><span class="id" title="axiom">set_extensionality</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Stlc.Nom.html#Nominal.action"><span class="id" title="method">action</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#A.V.set_map_iff"><span class="id" title="axiom">V.set_map_iff</span></a> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e'</span> <span class="id" title="var">He'</span>]. <span class="id" title="tactic">destruct</span> <span class="id" title="var">He'</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#Nominal.SetProperties.P.Dec.F.singleton_iff"><span class="id" title="lemma">SetProperties.P.Dec.F.singleton_iff</span></a> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#Nominal.eq_leibniz_iff"><span class="id" title="lemma">eq_leibniz_iff</span></a> <span class="id" title="keyword">in</span> *. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#A.V.set_map_iff"><span class="id" title="axiom">V.set_map_iff</span></a> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#Nominal.SetProperties.P.Dec.F.singleton_iff"><span class="id" title="lemma">SetProperties.P.Dec.F.singleton_iff</span></a> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#Nominal.eq_leibniz_iff"><span class="id" title="lemma">eq_leibniz_iff</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">e</span>;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">set</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Nominal.NomFacts.equivar_union"><span class="id" title="lemma">equivar_union</span></a> : <a class="idref" href="Stlc.Nom.html#Nominal.equivar_fn2"><span class="id" title="definition">equivar_fn2</span></a> <a class="idref" href="Stlc.Nom.html#A.V.union"><span class="id" title="axiom">union</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Stlc.Nom.html#Nominal.equivar_fn2"><span class="id" title="definition">equivar_fn2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Stlc.Nom.html#A.V.set_extensionality"><span class="id" title="axiom">V.set_extensionality</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">z</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Stlc.Nom.html#Nominal.action"><span class="id" title="method">action</span></a> <span class="id" title="keyword">in</span> *. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#A.V.union_spec"><span class="id" title="axiom">union_spec</span></a> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#A.V.set_map_iff"><span class="id" title="axiom">set_map_iff</span></a> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">x0</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">set</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#A.V.set_map_iff"><span class="id" title="axiom">set_map_iff</span></a> <span class="id" title="keyword">in</span> *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x0</span> <span class="id" title="var">Hx0</span>]. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x0</span>;<span class="id" title="tactic">split</span>;<span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#A.V.union_spec"><span class="id" title="axiom">union_spec</span></a> <span class="id" title="keyword">in</span> *. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Stlc.Nom.html#Nominal.action"><span class="id" title="method">action</span></a> <span class="id" title="keyword">in</span> *. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#A.V.union_spec"><span class="id" title="axiom">union_spec</span></a> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#A.V.set_map_iff"><span class="id" title="axiom">set_map_iff</span></a> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#A.V.union_spec"><span class="id" title="axiom">union_spec</span></a> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">set</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">x0</span>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Nominal.NomFacts.equivar_inter"><span class="id" title="lemma">equivar_inter</span></a> : <a class="idref" href="Stlc.Nom.html#Nominal.equivar_fn2"><span class="id" title="definition">equivar_fn2</span></a> <a class="idref" href="Stlc.Nom.html#A.V.inter"><span class="id" title="axiom">inter</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Stlc.Nom.html#A.V.set_extensionality"><span class="id" title="axiom">V.set_extensionality</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">z</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Stlc.Nom.html#Nominal.action"><span class="id" title="method">action</span></a> <span class="id" title="keyword">in</span> *. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#A.V.inter_spec"><span class="id" title="axiom">inter_spec</span></a> <span class="id" title="keyword">in</span> *. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#A.V.set_map_iff"><span class="id" title="axiom">set_map_iff</span></a> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">He'</span> <span class="id" title="var">Hz</span>]. <span class="id" title="tactic">destruct</span> <span class="id" title="var">He'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e'</span> <span class="id" title="var">Htl</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htl</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#A.V.set_map_iff"><span class="id" title="axiom">set_map_iff</span></a> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hz</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e''</span> <span class="id" title="var">Htl</span>]. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">e''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span> <span class="id" title="var">Hsupp</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heq</span> : <span class="id" title="var">e'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">e''</span>) <span class="id" title="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">replace</span> (<span class="id" title="var">e'</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">g</span> (<span class="id" title="var">f</span> <span class="id" title="var">e'</span>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="Stlc.Nom.html#happly"><span class="id" title="lemma">happly</span></a> <span class="id" title="var">l</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">e''</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">g</span> (<span class="id" title="var">f</span> <span class="id" title="var">e''</span>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="Stlc.Nom.html#happly"><span class="id" title="lemma">happly</span></a> <span class="id" title="var">l</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">set</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Stlc.Nom.html#Nominal.action"><span class="id" title="method">action</span></a> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#A.V.set_map_iff"><span class="id" title="axiom">set_map_iff</span></a> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#A.V.inter_spec"><span class="id" title="axiom">inter_spec</span></a> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">set</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Nominal.NomFacts.equivar_fresh_set"><span class="id" title="lemma">equivar_fresh_set</span></a> : <a class="idref" href="Stlc.Nom.html#Nominal.equivar_rel"><span class="id" title="definition">equivar_rel</span></a> (<span class="id" title="keyword">fun</span> (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="Stlc.Nom.html#Nominal.PFin.PFin"><span class="id" title="instance">PFin</span></a>) =&gt; <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Stlc.Nom.html#69755064da56401a65601b204f6a47d1"><span class="id" title="notation">#</span></a> <a class="idref" href="Stlc.Nom.html#y"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Stlc.Nom.html#Nominal.equivar_rel"><span class="id" title="definition">equivar_rel</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span> <span class="id" title="var">Hsupp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#A.V.Disjoint_spec"><span class="id" title="axiom">Disjoint_spec</span></a> <span class="id" title="keyword">in</span> *. <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Stlc.Nom.html#Nominal.action"><span class="id" title="method">action</span></a> <span class="id" title="keyword">in</span> *. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#A.V.set_map_iff"><span class="id" title="axiom">set_map_iff</span></a> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">H</span> <span class="id" title="var">x0</span>). <span class="id" title="tactic">split</span>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Stlc.Nom.html#A.V.set_map_iff"><span class="id" title="axiom">set_map_iff</span></a> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;NOTE&nbsp;:&nbsp;here&nbsp;we&nbsp;use&nbsp;the&nbsp;property&nbsp;that&nbsp;permutation&nbsp;is&nbsp;injective.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We&nbsp;prove&nbsp;injectivity&nbsp;using&nbsp;the&nbsp;left&nbsp;inverse&nbsp;property*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">x1</span>) <span class="id" title="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">replace</span> (<span class="id" title="var">x0</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">g</span> (<span class="id" title="var">f</span> <span class="id" title="var">x0</span>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="Stlc.Nom.html#happly"><span class="id" title="lemma">happly</span></a> <span class="id" title="var">l</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">x1</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">g</span> (<span class="id" title="var">f</span> <span class="id" title="var">x1</span>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="Stlc.Nom.html#happly"><span class="id" title="lemma">happly</span></a> <span class="id" title="var">l</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Stlc.Nom.html#Nominal.NomFacts"><span class="id" title="module">NomFacts</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Nominal.swap_fresh"><span class="id" title="lemma">swap_fresh</span></a> {<span class="id" title="var">X</span> : <a class="idref" href="Stlc.Nom.html#Nominal.NomSet"><span class="id" title="class">NomSet</span></a>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <a class="idref" href="Stlc.Nom.html#Nominal.NomAtom"><span class="id" title="instance">NomAtom</span></a>} {<span class="id" title="var">x</span> : <a class="idref" href="Stlc.Nom.html#X"><span class="id" title="variable">X</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="Stlc.Nom.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Stlc.Nom.html#69755064da56401a65601b204f6a47d1"><span class="id" title="notation">#</span></a> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Stlc.Nom.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Stlc.Nom.html#69755064da56401a65601b204f6a47d1"><span class="id" title="notation">#</span></a> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="Stlc.Nom.html#9e15fb830bdb1c7dfddcfb3ed059f7c8"><span class="id" title="notation">(</span></a><a class="idref" href="Stlc.Nom.html#Nominal.swap"><span class="id" title="definition">swap</span></a> <a class="idref" href="Stlc.Nom.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Stlc.Nom.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="Stlc.Nom.html#9e15fb830bdb1c7dfddcfb3ed059f7c8"><span class="id" title="notation">)</span></a> <a class="idref" href="Stlc.Nom.html#9e15fb830bdb1c7dfddcfb3ed059f7c8"><span class="id" title="notation">@</span></a> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Stlc.Nom.html#x"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Ha</span> <span class="id" title="var">Hb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Stlc.Nom.html#Nominal.supp_spec_swap"><span class="id" title="lemma">NomFacts.supp_spec_swap</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Stlc.Nom.html#Nominal.not_in_set_fresh"><span class="id" title="lemma">not_in_set_fresh</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Stlc.Nom.html#Nominal"><span class="id" title="module">Nominal</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
